DATAREA SEGMENT
  	STRING1 DB "Enter keyword:$"
 	STRING2 DB "Enter sentence:$"
 	STRING3 DB "Match at location:$"
	STRING4 DB "No match!",13,10,"$"
	STRING5 DB "H of the sentence.$"
	keyword DB 50D,?,51D DUP(?)
 	sentence DB 50D,?,51D DUP(?)
DATAREA ENDS

CODE SEGMENT
MAIN PROC FAR
	ASSUME CS:CODE,DS:DATAREA,ES:DATAREA
START:
	PUSH DS
	SUB AX,AX
	PUSH AX
	
MOV AX,DATAREA
	MOV DS,AX
	MOV ES,AX

	
LEA DX,STRING1
	MOV AH,09H
	INT 21H
	
LEA DX,keyword	
	MOV AH,0AH
	INT 21H
	MOV AH,02H
	MOV DL,0AH
	INT 21H

	LEA DX,STRING2
	MOV AH,09H
	INT 21H
	
LEA DX,sentence
	MOV AH,0AH
	INT 21H
	MOV AH,02H
	MOV DL,0AH
	INT 21H

	LEA SI,keyword+2
	LEA DI,sentence+2
	MOV AX,0
	MOV AL,[sentence+1]
	MOV AH,[keyword+1]
	CMP AL,AH
	JL NO

	SUB AL,AH
	MOV AH,0
	MOV CX,AX
	INC CX
COMPARE:
	PUSH CX
	MOV CX,3
	CLD
  	REPZ CMPSB
 	JZ MATCH
  	MOV AX,3
	SUB AX,CX
  	SUB SI,AX 
	MOV AX,2
	SUB AX,CX
 	SUB DI,AX
   	POP CX
  	LOOP COMPARE
NO: 	LEA DX,STRING4
 	MOV AH,09H
 	INT 21H
 	JMP EXIT
MATCH: 	POP CX
 	MOV BX,DI
   	LEA DX,STRING3
 	MOV AH,09H
 	INT 21H
  	SUB BX,OFFSET sentence+2
  	SUB BX,2
	CALL CHANGE
 	LEA DX,STRING5
 	MOV AH,09H
 	INT 21H
EXIT:
 	RET
  	MAIN ENDP
CHANGE 	PROC NEAR
 	PUSH AX
 	PUSH BX
 	PUSH CX
 	PUSH DX
 	MOV CH,4
 	MOV CL,4
ROTATE: ROL BX,CL
 	MOV AL,BL
 	AND AL,0FH
	ADD AL,30H
 	CMP AL,3AH
 	JL PRINTIT
 	ADD AL,7H
PRINTIT:
 	MOV DL,AL
 	MOV AH,2
 	INT 21H
 	DEC CH
  	JNZ ROTATE
	POP DX
 	POP CX
 	POP BX 
	POP AX
 	RET
CHANGE ENDP
CODE ENDS
END START 